
ありがとうございます。フィードバックします。

## 2. 全体構成・基本機能
### 2.1 ユーザー管理機能
####  1.	アカウント作成 
- ログイン方法はGoogle連携のみで構いません。パスワード管理も不要です。
#### 2.	ログイン/ログアウト
- GoogleログインのみでOK

#### 3. アカウント設定
- 通知はコメント or ハイライト or 新規フォロワーの3つを通知


### 2.2 フォロー機能
#### 	1.	ファミリー
- フォロー時は記入した理由は相手にも通知する
- アンフォロー時は通知しない。システムのみ保持する

#### 2.2.1 表示仕様
- 誰をファミリーに入れているかも他ユーザーにも後悔する

## 3. タイムライン（メインフィード）機能
### 3.1 投稿
#### 3.1.1 投稿できるメディア
##### 1.	動画
- アプリ内で動画を撮影できる機能もつける
- ファイルサイズや形式はYouTubeと合わせる（APIでYouTubeにアップロードするため）

##### 2. 画像　
- GIFも許可する

##### 3. 音声
- アプリ内で音声を録音できる機能もつける
- ファイルサイズや形式はPodBeanと合わせる（APIでPodBeanにアップロードするため）
  - [PodBean API](https://developers.podbean.com/podbean-api-docs/)

##### 4. テキスト
- 10000文字まで投稿可能
    - タイムラインで表示されるのは280文字まで（XのようなUI）
- markdownをサポート

## 4. プロフィール機能
### 4.1 レイアウト
#### 	1.	自己紹介文
- 自己紹介文は280文字まで

#### 	2.	ショップ
- ショップアイコンをクリックすると、投稿一覧からショップ一覧に切り替わり、そのユーザーが出品している商品一覧が表示され、アプリ内で購入まで可能
- 販売や購入した商品取引の管理も行うことができる
  - 取引管理はヘッダーから遷移することができる

## 5. 検索・AIチャット機能
### 5.2 AI連携
- 外部の大規模言語モデルを利用（DeepSeek R1）

## 7. 発見（Discovery）ページ
### 7.4 おすすめ投稿
- レコメンドアルゴリズムは、ユーザーのアクティビティを分析し「そのユーザーの魂は何にワクワクするか？」を分析し、SQLクエリを生成し、そのクエリを実行してユーザーにおすすめの投稿を表示する


## 8. 非機能要件
### 8.2 セキュリティ
- パスワードのハッシュ化保管は不要（Google連携のみでOK）

### 8.3 拡張性
- 運営によるピックアップイベントを掲載する動線もほしい

## 10. システム構成（概要）
### 	1.	フロントエンド
- "Next.js v15"で構築
- Capacitorでネイティブアプリ化
- デザインはTailwindCSS

### 	2.	バックエンド
- バックエンドも "Next.js v15" で構築

### 	3.	データベース
- Supabaseを利用
- テキストもデータベースに保存
  - Supabase or S3 + キャッシュなど
- 動画はYouTubeに保存
  - ユーザーのYouTubeアカウントにAPIでアップロード  
    - アップロード時に公開 or 限定公開か選択できる
- 音声はPodBeanに保存
  - ユーザーのPodBeanアカウントにAPIでアップロード
    - 限定公開でアップロード
- 画像はBoxに保存 + キャッシュサーバー
  - ユーザーのBoxアカウントにAPIでアップロード
  - boxのレート制限が厳しいので、キャッシュサーバーでキャッシュする

### 	4.	決済関連
- 決済はStripeで行う

### 	5.	AI関連
- 外部の大規模言語モデルを利用（DeepSeek R1）

### 	6.	通知
- 通知はFirebase Cloud Messagingで行う
- ブラウザpushは不要

## 確認・質問事項
### 	1.	フォロー/アンフォロー時の理由入力について
- フォロー時は理由を通知
- アンフォロー時は理由を通知しない

### 	2.	「ハイライト」の理由表示範囲
- 他のユーザー全員が閲覧可能

###	3.	AIチャット機能の詳細
- 使用するAIはDeepSeek R1とのAPI連携

### 4.	イベント管理と有料チケット
#### 手数料
- 7%
#### 決済フロー
- 決済ボタンを押すと、Stripeのチェックアウトページに遷移する
- 決済が完了したら、ユーザーのイベント管理ページに遷移する
- ユーザーのイベント管理ページには、イベントの詳細と、イベントの参加者一覧が表示される

### 5.	プレミアムユーザーの定義・課金
- 月額制サブスクリプションを想定

### 	6.	ショップ機能
- イベントと同じ決済手段を利用
- 必ず送料込での設定とする
- 返品は出品者に委ねる

### 7.	地域ベースの機能（地図表示）
- 都道府県単位
- 地図表示は、3Dマップを実装し、盛り上がり度に応じて地方別に色分けされているUI

### 8.	サーバー・インフラ要件
#### 規模感想定
- 想定MAU: 10000人
- 投稿数: 一人当たり0.3件/日
- ストーリーズ: 一人当たり2件/日

#### ストレージ容量上限
- 容量上限は無し
  - 外部の容量無制限のストレージを利用する
    - 画像： Box
    - 動画： YouTube
    - 音声： PodBean

#### 9.	「メディア」タブでの自由レイアウト
- 前提として、インスタのように1行3タイルが基本
- 3タイルを結合して1列同じ投稿にすることもできる（横長の長方形の画像）
- 4タイルを結合して正方形で表示することもできる
- 9タイル結合して大きな正方形で表示することもできる




