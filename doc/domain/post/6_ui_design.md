# 投稿ドメイン画面UI設計

## 1. 投稿作成画面

![投稿作成画面](/doc/domain/post/ui/post_create_screen.svg)

### 要素
- ヘッダー（キャンセル/投稿ボタン）
- プロフィールアバター（小）
- コンテンツタイプ選択タブ（テキスト/画像/動画/音声）
- テキスト入力エリア
- メディアプレビュー（選択時）
- メディア選択/撮影ボタン
- タグ入力フィールド
- タグサジェスト表示
- 公開設定トグル
- イベント関連付けオプション（任意）

### 動作
- コンテンツタイプ選択で入力エリアが変更される
- 画像タイプ選択時：カメラ/ギャラリー選択ダイアログ表示
- 動画タイプ選択時：カメラ/ビデオ選択ダイアログ表示
- 音声タイプ選択時：録音インターフェース表示
- タグ入力時：入力内容に基づいたサジェスト表示
- 投稿ボタンタップ：バリデーション後アップロード開始
- キャンセルボタンタップ：確認ダイアログ表示

## 2. 投稿詳細画面

![投稿詳細画面](/doc/domain/post/ui/post_detail_screen.svg)

### 要素
- ヘッダー（戻るボタン、メニュー）
- 投稿者情報（アバター、名前、投稿日時）
- テキストコンテンツ（全文表示）
- メディアコンテンツ（フル表示）
- アクション列（いいね、コメント、ハイライト、シェア）
- タグリスト（クリック可能）
- いいね・コメント・ハイライト数カウント
- コメント入力フィールド
- コメント一覧（スレッド表示）

### 動作
- メディアタップで拡大表示/再生
- いいねボタンタップでいいね投稿/解除
- コメントボタンタップでコメント入力フォーカス
- ハイライトボタンタップでハイライト理由ダイアログ表示
- タグタップで関連投稿検索
- コメント送信ボタンタップでコメント投稿
- コメント一覧のコメントタップで返信機能
- コメント一覧の「もっと見る」タップで追加コメント読み込み

## 3. ユーザー投稿一覧画面

### 3.1 グリッド表示（デフォルト）

![ユーザー投稿一覧画面](/doc/domain/post/ui/user_posts_screen.svg)

### 3.2 音声タブの連続再生表示

![音声タブの連続再生表示](/doc/domain/post/ui/user_posts_audio_view.svg)

### 要素
- ヘッダー（戻るボタン、ユーザー名、メニュー）
- プロフィールサマリー（アバター、フォロー情報）
- タブバー（投稿種類フィルター：投稿/メディア/音声/ハイライト）
- 各表示モード
  - 投稿タブ：タイムラインのような詳細表示
  - メディアタブ：画像/動画のグリッド表示
  - 音声タブ：音声プレイヤーリストと連続再生機能
  - ハイライトタブ：ハイライト一覧表示
- 表示切替ボタン（グリッド/リスト、該当する場合のみ）
- 続きを読み込むインジケーター

### 動作
- タブ選択で投稿フィルタリングと表示方法の切り替え
- 投稿タブ：タイムラインと同様のレイアウトで各投稿を詳細表示
- メディアタブ：グリッド表示で視覚的に一覧表示
- 音声タブ：
  - 「すべて再生」ボタンで音声投稿を連続再生
  - 「シャッフル」でランダム再生
  - 並び替えオプションで投稿順変更
  - 個別の再生/一時停止コントロール
- ハイライトタブ：ハイライトした投稿の一覧表示
- 投稿/メディアタップで詳細画面表示
- スクロールで追加投稿読み込み

## 4. コメント画面

![コメント画面](/doc/domain/post/ui/comments_screen.svg)

### 要素
- ヘッダー（戻るボタン、「コメント」タイトル）
- 元投稿サマリー（簡易表示）
- コメント一覧（時系列表示）
- 返信スレッドインジケーター
- コメント入力フィールド
- 送信ボタン
- コメントアクションメニュー（自分のコメントのみ）

### 動作
- コメントタップで返信モード切替
- 長押しでアクションメニュー表示（コピー、編集、削除）
- 返信モード時は親コメントを表示
- コメント入力と送信
- スクロールで追加コメント読み込み

## 5. メディアプレーヤー画面

![メディアプレーヤー画面](/doc/domain/post/ui/media_player_screen.svg)

### 要素
- フルスクリーンメディア表示
- 閉じるボタン
- 再生コントロール（動画/音声）
- シークバー
- 音量コントロール
- 共有ボタン
- いいね/ハイライトボタン
- コメント表示オーバーレイ

### 動作
- ピンチズームで画像拡大/縮小
- タップで再生/一時停止
- スワイプで閉じる
- シークバードラッグで再生位置変更
- ボタンタップでアクション実行
- コメントアイコンタップでコメント入力表示

## 6. 検索結果画面（タグ検索）

![タグ検索結果画面](/doc/domain/post/ui/tags_search_screen.svg)

### 要素
- ヘッダー（戻るボタン、検索フィールド）
- 検索フィルターオプション（タブ表示）
- 関連タグサジェスト
- 検索結果カウント
- 結果ソートオプション（最新/人気）
- 投稿グリッド/リスト表示
- コンテンツタイプフィルター
- 検索結果無し表示

### 動作
- 検索フィールド入力で自動サジェスト
- タブ選択でユーザー/投稿/イベント切替
- ソートオプション選択で結果並べ替え
- フィルター適用でリアルタイム結果更新
- 投稿タップで詳細画面表示
- スクロールで追加結果読み込み

## 7. ハイライト一覧画面

![ハイライト一覧画面](/doc/domain/post/ui/highlight_list_screen.svg)

### 要素
- ヘッダー（戻るボタン、「ハイライト」タイトル）
- 元投稿サマリー（簡易表示）
- ハイライトリスト（ユーザー情報と理由）
- ユーザーフォロー状態表示とボタン
- 並び替えオプション
- ユーザーフィルターオプション

### 動作
- ユーザーアバタータップでプロフィール表示
- フォローボタンタップでフォロー操作
- ハイライト理由タップで全文表示
- スクロールで追加ハイライト読み込み
- ハイライト日時順/フォロー中優先などの並び替え

## コンポーネント設計

### 投稿カード

#### 要素
- 投稿者情報ヘッダー
- テキストコンテンツ
- メディアプレビュー
- アクションバー
- エンゲージメント情報
- タグリスト

#### バリエーション
- **スタンダード**：タイムラインでの標準表示
- **コンパクト**：一覧でのコンパクト表示
- **詳細**：単一投稿詳細画面での拡張表示
- **リンクプレビュー**：共有されたURLの表示

### メディアプレーヤー

#### 要素
- メディアコンテナ
- 再生コントロール
- プログレスバー
- 音量コントロール
- フルスクリーン切替
- ローディングインジケーター

#### バリエーション
- **インライン**：投稿内に埋め込み
- **フルスクリーン**：全画面表示
- **ピクチャーインピクチャー**：ミニプレーヤー
- **自動再生**：無音で自動再生（設定可能）
- **連続再生**：音声投稿の連続再生機能付き

### コメントアイテム

#### 要素
- 投稿者アバターとユーザー名
- コメント本文
- 投稿日時
- 返信/いいねボタン
- 返信スレッドカウント
- スレッド表示/非表示ボタン

#### バリエーション
- **トップレベル**：メインコメント表示
- **返信**：インデントと接続線でスレッド表示
- **長文**：「もっと見る」で折りたたみ可能
- **自分のコメント**：編集/削除メニュー付き

### タグチップ

#### 要素
- ハッシュタグアイコン
- タグテキスト
- 削除アイコン（編集時のみ）

#### バリエーション
- **読み取り専用**：タップで検索
- **編集可能**：削除可能
- **人気タグ**：使用数表示
- **選択可能**：選択状態の視覚的フィードバック

### アクションボタン

#### 要素
- アイコン
- カウント表示
- 選択状態表示

#### バリエーション
- **いいねボタン**：ハートアニメーション
- **コメントボタン**：コメント数表示
- **ハイライトボタン**：選択時にダイアログ表示
- **シェアボタン**：シェアオプション表示