# 投稿ドメインテスト パラメーター一覧と期待結果

このドキュメントでは、投稿ドメインの各テストケースで使用するテストパラメーターと期待される結果の組み合わせを定義します。これにより、テスト実装時の指針となり、テストの網羅性を高めることができます。

## 1. データ層テスト

### 1.1 PostModel テストパラメーター

| テストケース | 入力パラメーター | 期待される結果 |
|-------------|----------------|--------------|
| 正常なJSONからの変換 | `{ "id": "post123", "userId": "user123", "contentType": "text", "textContent": "投稿内容", "isPublic": true, "tags": ["tag1", "tag2"], "createdAt": "2023-01-01T12:00:00Z", "updatedAt": "2023-01-01T12:00:00Z", "user": {...}, "likesCount": 10, "commentsCount": 5, "highlightsCount": 2, "isLiked": true, "isHighlighted": false }` | 全フィールドが正しく設定されたPostModelインスタンス |
| 空タグリスト | JSONでtagsが空配列 | tagsが空リストのPostModelインスタンス |
| nullableフィールドなし | textContent, mediaUrl, thumbnailUrl, eventIdがnull | 対応するフィールドがnullのPostModelインスタンス |
| 特殊文字を含むテキスト | textContentに絵文字や特殊文字 | 特殊文字が保持されたPostModelインスタンス |
| 長文テキスト | textContentに500文字 | 全文字が保持されたPostModelインスタンス |
| JSONからモデルへの変換 | 完全なPostModelインスタンス | 元のデータと一致するJSON |

### 1.2 CommentModel テストパラメーター

| テストケース | 入力パラメーター | 期待される結果 |
|-------------|----------------|--------------|
| 親コメントのJSONからの変換 | `{ "id": "comment123", "postId": "post123", "userId": "user123", "parentCommentId": null, "body": "コメント内容", "createdAt": "2023-01-01T12:00:00Z", "updatedAt": "2023-01-01T12:00:00Z", "user": {...}, "replyCount": 3 }` | 親コメントとして正しく設定されたCommentModelインスタンス |
| 子コメントのJSONからの変換 | parentCommentIdが設定されたJSON | 子コメントとして正しく設定されたCommentModelインスタンス |
| 特殊文字を含むコメント | bodyに絵文字や特殊文字 | 特殊文字が保持されたCommentModelインスタンス |
| 長文コメント | bodyに200文字 | 全文字が保持されたCommentModelインスタンス |
| JSONへの変換 | 完全なCommentModelインスタンス | 元のデータと一致するJSON |

### 1.3 PostRemoteDataSource テストパラメーター

| テストケース | 入力パラメーター | 期待される結果 |
|-------------|----------------|--------------|
| createPost成功 | `{ contentType: ContentType.text, textContent: "新規投稿", isPublic: true, tags: ["tag1"] }` | 作成された投稿を表すPostModelインスタンス |
| createPost失敗（サーバーエラー） | 有効なパラメータ + モックで500エラーを返す | ServerException |
| createPost失敗（バリデーションエラー） | `{ contentType: ContentType.text, textContent: "501文字の長すぎるテキスト...", isPublic: true, tags: [] }` | ValidationException |
| getPost成功 | 存在する投稿ID | 対応するPostModelインスタンス |
| getPost失敗（存在しないID） | 存在しない投稿ID | NotFoundException |
| updatePost成功 | 自分の投稿ID + 更新内容 | 更新されたPostModelインスタンス |
| updatePost失敗（権限エラー） | 他ユーザーの投稿ID + 更新内容 | UnauthorizedException |
| deletePost成功 | 自分の投稿ID | `true` |
| deletePost失敗（権限エラー） | 他ユーザーの投稿ID | UnauthorizedException |
| getUserPosts成功 | ユーザーID, limit: 10, cursor: null | 10件の投稿リストとnextCursor |
| getUserPosts（フィルター付き） | ユーザーID, limit: 10, contentType: ContentType.image | 画像投稿のみ10件とnextCursor |

### 1.4 PostLocalDataSource テストパラメーター

| テストケース | 入力パラメーター | 期待される結果 |
|-------------|----------------|--------------|
| savePost成功 | 有効なPostModelインスタンス | `true` |
| getPost成功 | 保存済みの投稿ID | 保存したPostModelインスタンス |
| getPost失敗（キャッシュなし） | 未保存の投稿ID | `null` |
| getPost（期限切れキャッシュ） | 30分以上前に保存された投稿ID | `null`（キャッシュ期限切れで削除される） |
| deletePost成功 | 保存済みの投稿ID | `true` |
| clearCache成功 | なし | `true`（すべてのキャッシュがクリアされる） |

### 1.5 PostRepository テストパラメーター

| テストケース | 入力パラメーター | 期待される結果 |
|-------------|----------------|--------------|
| getPost（キャッシュヒット） | キャッシュされた投稿ID | Right\<PostEntity\>（キャッシュデータ） |
| getPost（キャッシュミス→リモート成功） | キャッシュにない投稿ID | Right\<PostEntity\>（リモートデータ） |
| getPost（キャッシュミス→リモート失敗） | キャッシュにない投稿ID + サーバーエラー | Left\<ServerFailure\> |
| createPost成功 | 有効な投稿作成パラメータ | Right\<PostEntity\> |
| createPost失敗 | 不正なパラメータ | Left\<ValidationFailure\> |
| ネットワークエラー処理 | 任意のメソッド呼び出し + ネットワーク切断 | Left\<NetworkFailure\> |

## 2. ドメイン層テスト

### 2.1 CreatePostUseCase テストパラメーター

| テストケース | 入力パラメーター | 期待される結果 |
|-------------|----------------|--------------|
| テキスト投稿作成成功 | `{ contentType: ContentType.text, textContent: "投稿内容", isPublic: true, tags: ["tag1"] }` | Right\<PostEntity\> |
| 画像投稿作成成功 | `{ contentType: ContentType.image, mediaId: "media123", isPublic: true, tags: ["tag1"] }` | Right\<PostEntity\> |
| テキスト投稿（タグなし）成功 | `{ contentType: ContentType.text, textContent: "投稿内容", isPublic: true, tags: [] }` | Right\<PostEntity\> |
| 非公開投稿作成成功 | `{ contentType: ContentType.text, textContent: "非公開投稿", isPublic: false, tags: [] }` | Right\<PostEntity\> |
| イベント関連投稿作成成功 | `{ contentType: ContentType.text, textContent: "イベント投稿", eventId: "event123", isPublic: true, tags: ["イベント"] }` | Right\<PostEntity\> |
| 投稿作成失敗（テキスト内容なし） | `{ contentType: ContentType.text, textContent: null, isPublic: true, tags: [] }` | Left\<ValidationFailure\> |
| 投稿作成失敗（画像なし） | `{ contentType: ContentType.image, mediaId: null, isPublic: true, tags: [] }` | Left\<ValidationFailure\> |
| リポジトリエラー | 有効なパラメータ + リポジトリでエラー発生 | Left\<ServerFailure\> |

### 2.2 GetPostUseCase テストパラメーター

| テストケース | 入力パラメーター | 期待される結果 |
|-------------|----------------|--------------|
| 投稿取得成功 | 存在する投稿ID | Right\<PostEntity\> |
| 投稿取得失敗（存在しないID） | 存在しない投稿ID | Left\<NotFoundFailure\> |
| ネットワークエラー | 有効なID + ネットワーク切断 | Left\<NetworkFailure\> |

### 2.3 LikePostUseCase テストパラメーター

| テストケース | 入力パラメーター | 期待される結果 |
|-------------|----------------|--------------|
| いいね追加成功 | まだいいねしていない投稿ID | Right\<LikeEntity\> |
| いいね追加失敗（既にいいね済み） | 既にいいねした投稿ID | Left\<ValidationFailure\> |
| いいね追加失敗（存在しない投稿） | 存在しない投稿ID | Left\<NotFoundFailure\> |

### 2.4 UnlikePostUseCase テストパラメーター

| テストケース | 入力パラメーター | 期待される結果 |
|-------------|----------------|--------------|
| いいね解除成功 | いいね済みの投稿ID | Right\<bool\>（true） |
| いいね解除失敗（いいねなし） | いいねしていない投稿ID | Left\<ValidationFailure\> |
| いいね解除失敗（存在しない投稿） | 存在しない投稿ID | Left\<NotFoundFailure\> |

### 2.5 HighlightPostUseCase テストパラメーター

| テストケース | 入力パラメーター | 期待される結果 |
|-------------|----------------|--------------|
| ハイライト追加成功（理由あり） | `{ postId: "post123", reason: "素晴らしい内容" }` | Right\<HighlightEntity\> |
| ハイライト追加成功（理由なし） | `{ postId: "post123", reason: null }` | Right\<HighlightEntity\> |
| ハイライト追加失敗（既にハイライト済み） | 既にハイライトした投稿ID | Left\<ValidationFailure\> |

### 2.6 GetUserPostsUseCase テストパラメーター

| テストケース | 入力パラメーター | 期待される結果 |
|-------------|----------------|--------------|
| ユーザー投稿取得成功 | ユーザーID, limit: 10, cursor: null | Right\<PaginatedPosts\>（10件の投稿リストとnextCursor） |
| ユーザー投稿取得成功（2ページ目） | ユーザーID, limit: 10, cursor: "cursor123" | Right\<PaginatedPosts\>（続きの10件とnextCursor） |
| ユーザー投稿取得（特定タイプのみ） | ユーザーID, limit: 10, contentType: ContentType.audio | Right\<PaginatedPosts\>（音声投稿のみ） |
| ユーザー投稿なし | 投稿のないユーザーID | Right\<PaginatedPosts\>（空リスト, nextCursor: null） |

## 3. プレゼンテーション層テスト

### 3.1 PostViewModel テストパラメーター

| テストケース | 入力パラメーター（アクション） | 期待される結果（状態） |
|-------------|--------------------------|-------------------|
| getPost成功 | 存在する投稿ID | 状態遷移: PostInitial → PostLoading → PostLoaded |
| getPost失敗 | 存在しない投稿ID | 状態遷移: PostInitial → PostLoading → PostError |
| likePost成功 | 投稿ID（未いいね状態） | 楽観的更新: isLiked=true, likesCount+1 → APIコール成功 |
| likePost失敗 | 投稿ID + サーバーエラー | 楽観的更新: isLiked=true, likesCount+1 → APIコール失敗 → 元に戻す + エラー状態 |
| unlikePost成功 | 投稿ID（いいね状態） | 楽観的更新: isLiked=false, likesCount-1 → APIコール成功 |
| highlightPost成功 | 投稿ID, 理由（未ハイライト状態） | 楽観的更新: isHighlighted=true, highlightsCount+1 → APIコール成功 |
| deletePost成功 | 自分の投稿ID | 状態遷移: PostLoaded → PostLoading → PostDeleted |
| deletePost失敗 | 他者の投稿ID | 状態遷移: PostLoaded → PostLoading → PostError |

### 3.2 PostCreateViewModel テストパラメーター

| テストケース | 入力パラメーター（アクション） | 期待される結果（状態） |
|-------------|--------------------------|-------------------|
| uploadMedia成功 | File（画像）, MediaType.image | 状態遷移: PostCreateInitial → MediaUploading → MediaUploaded |
| uploadMedia失敗 | 不正なFile | 状態遷移: PostCreateInitial → MediaUploading → PostCreateError |
| createPost成功（テキスト） | `{ contentType: ContentType.text, textContent: "投稿内容", isPublic: true, tags: [] }` | 状態遷移: PostCreateInitial → PostCreating → PostCreated |
| createPost成功（メディア） | `{ contentType: ContentType.image, mediaId: "media123", isPublic: true, tags: [] }` | 状態遷移: MediaUploaded → PostCreating → PostCreated |
| createPost失敗 | 不正なパラメータ | 状態遷移: PostCreateInitial → PostCreating → PostCreateError |

### 3.3 CommentsViewModel テストパラメーター

| テストケース | 入力パラメーター（アクション） | 期待される結果（状態） |
|-------------|--------------------------|-------------------|
| getComments成功 | 投稿ID, limit: 20 | 状態遷移: CommentsInitial → CommentsLoading → CommentsLoaded |
| getComments成功（ページ追加） | 投稿ID, limit: 20, cursor: "cursor123" | 状態遷移: CommentsLoaded → CommentsLoading → CommentsLoaded（新コメント追加） |
| addComment成功 | 投稿ID, "コメント内容" | 状態遷移: CommentsLoaded → CommentAdding → CommentsLoaded（新コメント含む） |
| addComment失敗 | 投稿ID, "不正な内容" | 状態遷移: CommentsLoaded → CommentAdding → CommentsError |
| replyComment成功 | 投稿ID, コメントID, "返信内容" | 状態遷移: CommentsLoaded → CommentAdding → CommentsLoaded（新返信含む） |

## 4. ウィジェットテスト

### 4.1 PostCard ウィジェットテストパラメーター

| テストケース | 入力パラメーター | 期待される結果 |
|-------------|----------------|--------------|
| テキスト投稿表示 | テキスト投稿のPostEntityインスタンス | 投稿テキスト、ユーザー名、タグ、アクションボタンが表示されること |
| 画像投稿表示 | 画像投稿のPostEntityインスタンス | 画像、投稿テキスト、ユーザー名、タグ、アクションボタンが表示されること |
| 動画投稿表示 | 動画投稿のPostEntityインスタンス | 動画サムネイル、再生ボタン、投稿テキスト、ユーザー名、タグ、アクションボタンが表示されること |
| 音声投稿表示 | 音声投稿のPostEntityインスタンス | 音声波形UI、再生ボタン、投稿テキスト、ユーザー名、タグ、アクションボタンが表示されること |
| いいねボタン操作 | タップアクション | onLikeコールバックが呼ばれること |
| コメントボタン操作 | タップアクション | onCommentコールバックが呼ばれること |
| ハイライトボタン操作 | タップアクション | onHighlightコールバックが呼ばれること |
| カード全体タップ | タップアクション | onTapコールバックが呼ばれること |
| 長文テキスト投稿表示 | 長文テキスト投稿のPostEntityインスタンス | 適切に省略表示され「続きを読む」ボタンが表示されること |
| 「続きを読む」タップ | タップアクション | テキストが全文表示されること |

### 4.2 MediaPlayer ウィジェットテストパラメーター

| テストケース | 入力パラメーター | 期待される結果 |
|-------------|----------------|--------------|
| 画像表示 | 画像URL、ContentType.image | 画像が表示されること |
| 画像読み込み中表示 | 画像URL（読み込み遅延設定） | ローディングインジケータが表示され、読み込み完了後に画像が表示されること |
| 画像読み込みエラー | 無効な画像URL | エラー表示とリトライボタンが表示されること |
| 動画表示 | 動画URL、ContentType.video | 動画サムネイルと再生ボタンが表示されること |
| 動画再生 | 再生ボタンタップ | 動画が再生され、一時停止ボタンに切り替わること |
| 音声表示 | 音声URL、ContentType.audio | 音声波形UIと再生ボタンが表示されること |
| 音声再生 | 再生ボタンタップ | 音声が再生され、一時停止ボタンに切り替わること |

### 4.3 CommentItem ウィジェットテストパラメーター

| テストケース | 入力パラメーター | 期待される結果 |
|-------------|----------------|--------------|
| 親コメント表示 | 親コメントのCommentEntityインスタンス | コメント内容、ユーザー名、返信ボタンが表示されること |
| 子コメント表示 | 子コメントのCommentEntityインスタンス | インデント表示、コメント内容、ユーザー名、返信ボタンが表示されること |
| 返信ボタン操作 | タップアクション | onReplyコールバックが呼ばれること |
| 長文コメント表示 | 長文コメントのCommentEntityインスタンス | 適切に省略表示され「続きを読む」ボタンが表示されること |

## 5. 画面テスト

### 5.1 PostCreateScreen 画面テストパラメーター

| テストケース | 入力パラメーター（アクション） | 期待される結果 |
|-------------|--------------------------|-------------------|
| テキスト投稿作成 | テキスト入力、公開設定、タグ入力、投稿ボタンタップ | createPostUseCaseが正しいパラメータで呼ばれ、成功時に前の画面に戻ること |
| 画像投稿作成 | 画像選択、テキスト入力、公開設定、タグ入力、投稿ボタンタップ | uploadMediaUseCaseとcreatePostUseCaseが順に呼ばれ、成功時に前の画面に戻ること |
| タグ追加 | タグ入力フィールドにタグ入力 + 追加ボタンタップ | タグリストにタグが追加されること |
| タグ削除 | タグチップの削除ボタンタップ | タグリストからタグが削除されること |
| 文字数制限 | 制限（500文字）を超えるテキスト入力 | エラーメッセージが表示され、投稿ボタンが無効化されること |
| ファイルサイズ制限 | 制限を超える画像ファイル選択 | エラーメッセージが表示され、アップロードが拒否されること |

### 5.2 PostDetailScreen 画面テストパラメーター

| テストケース | 入力パラメーター（画面表示） | 期待される結果 |
|-------------|--------------------------|-------------------|
| 画面表示（キャッシュヒット） | キャッシュされた投稿ID | 即座に投稿内容が表示され、バックグラウンドで更新されること |
| 画面表示（キャッシュミス） | キャッシュにない投稿ID | ローディング表示後に投稿内容が表示されること |
| いいね操作 | いいねボタンタップ | ボタン状態が即座に変化し、カウントが更新されること |
| コメント表示 | コメントボタンタップ | コメント一覧が表示されること |
| コメント投稿 | コメント入力 + 送信ボタンタップ | コメントが投稿され、リストに追加されること |
| ハイライト操作 | ハイライトボタンタップ | 理由入力ダイアログが表示され、入力後にボタン状態が変化し、カウントが更新されること |
| 投稿者メニュー | 投稿者で表示 + メニューボタンタップ | 編集・削除オプションが表示されること |
| 非投稿者メニュー | 非投稿者で表示 + メニューボタンタップ | 報告オプションが表示されること |
| 削除操作 | 削除オプション選択 + 確認 | 投稿が削除され、前の画面に戻ること |

### 5.3 UserPostsScreen 画面テストパラメーター

| テストケース | 入力パラメーター（画面表示） | 期待される結果 |
|-------------|--------------------------|-------------------|
| 初期表示 | ユーザーID | ユーザーの投稿一覧が表示されること |
| タイプフィルター適用 | フィルタータブ選択（画像） | 画像投稿のみが表示されること |
| 無限スクロール | リスト最下部までスクロール | 追加投稿が読み込まれること |
| 投稿なし | 投稿のないユーザーID | 「投稿がありません」メッセージが表示されること |
| 投稿タップ | 投稿カードタップ | 投稿詳細画面に遷移すること |

## 6. 統合テストパラメーター

### 6.1 投稿作成から表示までのフロー

| テストケース | 入力パラメーター（一連の操作） | 期待される結果 |
|-------------|--------------------------|-------------------|
| テキスト投稿フロー | 1. 投稿作成画面表示<br>2. テキスト入力<br>3. タグ追加<br>4. 投稿送信<br>5. タイムライン表示<br>6. 投稿タップ | 作成した投稿が投稿詳細画面で正しく表示されること |
| 画像投稿フロー | 1. 投稿作成画面表示<br>2. 画像選択<br>3. テキスト入力<br>4. タグ追加<br>5. 投稿送信<br>6. タイムライン表示<br>7. 投稿タップ | 作成した画像投稿が投稿詳細画面で正しく表示されること |
| いいね操作フロー | 1. 投稿詳細表示<br>2. いいねボタンタップ<br>3. 別画面に遷移<br>4. 再度投稿詳細表示 | いいね状態が保持されていること |

### 6.2 コメントスレッド操作フロー

| テストケース | 入力パラメーター（一連の操作） | 期待される結果 |
|-------------|--------------------------|-------------------|
| コメント投稿フロー | 1. 投稿詳細表示<br>2. コメント入力<br>3. 送信ボタンタップ | コメントが投稿され、リストに追加されること |
| 返信フロー | 1. 投稿詳細表示<br>2. コメント表示<br>3. 返信ボタンタップ<br>4. 返信入力<br>5. 送信ボタンタップ | 返信がインデント表示で追加されること |
| コメントページネーション | 1. 多数のコメントがある投稿表示<br>2. コメントリスト最下部までスクロール | 追加コメントが読み込まれること |

### 6.3 ハイライト機能フロー

| テストケース | 入力パラメーター（一連の操作） | 期待される結果 |
|-------------|--------------------------|-------------------|
| ハイライト追加フロー | 1. 投稿詳細表示<br>2. ハイライトボタンタップ<br>3. 理由入力<br>4. 確定ボタンタップ | ハイライト状態になり、カウントが更新されること |
| ハイライト一覧表示 | 1. ハイライト一覧画面表示 | ハイライトした投稿が一覧表示されること |
| ハイライト理由表示 | 1. ハイライト一覧表示<br>2. ハイライト理由アイコンタップ | ハイライト理由がポップアップ表示されること |

## 7. パフォーマンステストパラメーター

### 7.1 投稿リスト表示パフォーマンス

| テストケース | テスト条件 | 期待される結果 |
|-------------|----------|--------------|
| 大量投稿読み込み | 100件の投稿データ | 読み込み時間が2秒以内、メモリ使用増加が30MB以内 |
| スクロール性能 | 連続スクロール操作 | 60fpsのスムーズなスクロール、フレームドロップなし |
| 初期表示時間 | コールドスタート | 画面表示までが300ms以内 |

### 7.2 メディア読み込みパフォーマンス

| テストケース | テスト条件 | 期待される結果 |
|-------------|----------|--------------|
| 画像読み込み | 複数画像を含むリスト | 画像表示開始までが1秒以内 |
| 動画読み込み | タイムラインでの動画投稿 | サムネイル表示が即時、再生開始が2秒以内 |
| キャッシュ効果 | 2回目の表示 | キャッシュから即時表示（100ms以内） |

## 8. エラーケーステストパラメーター

### 8.1 ネットワークエラー

| テストケース | テスト条件 | 期待される結果 |
|-------------|----------|--------------|
| オフライン投稿取得 | ネットワーク切断状態 | キャッシュデータ表示 + オフラインメッセージ |
| オフライン投稿作成 | ネットワーク切断状態 | 適切なエラーメッセージ表示 + 再試行オプション |
| タイムアウト処理 | 接続タイムアウト設定 | タイムアウトエラーメッセージ + 再試行オプション |
| 間欠的接続 | 接続の断続的切断 | リトライメカニズムによる回復 |

### 8.2 バリデーションエラー

| テストケース | テスト条件 | 期待される結果 |
|-------------|----------|--------------|
| テキスト長制限 | 500文字超のテキスト | エラーメッセージ表示 + 送信ボタン無効化 |
| 画像サイズ制限 | 5MB超の画像 | エラーメッセージ表示 + アップロード拒否 |
| サポート外メディア形式 | サポートされていないメディア形式 | エラーメッセージ表示 + アップロード拒否 |
| タグ文字数制限 | 30文字超のタグ | エラーメッセージ表示 + 追加拒否 |
| タグ数制限 | 10個超のタグ | エラーメッセージ表示 + 追加拒否 |

### 8.3 権限エラー

| テストケース | テスト条件 | 期待される結果 |
|-------------|----------|--------------|
| 非公開投稿アクセス | 許可されていないユーザーでの非公開投稿表示 | 適切なアクセス拒否メッセージ |
| 他ユーザー投稿編集 | 他ユーザーの投稿の編集試行 | 編集オプション非表示 |
| 他ユーザー投稿削除 | 他ユーザーの投稿の削除試行 | 削除オプション非表示 |
| ブロックユーザー投稿表示 | ブロックしたユーザーの投稿表示試行 | 投稿が表示されないこと |

## 9. アクセシビリティテストパラメーター

### 9.1 スクリーンリーダー対応

| テストケース | テスト条件 | 期待される結果 |
|-------------|----------|--------------|
| 投稿カード読み上げ | スクリーンリーダー有効 | 投稿者名、投稿内容、いいね数などが適切に読み上げられること |
| アクションボタン読み上げ | スクリーンリーダー有効 | ボタンの目的と状態が明確に読み上げられること |
| 画像代替テキスト | 画像投稿 | 画像の代替テキストが適切に提供され読み上げられること |
| フォーカス移動 | キーボード操作 | UI要素間のフォーカス移動が論理的であること |

### 9.2 コントラストとフォントサイズ

| テストケース | テスト条件 | 期待される結果 |
|-------------|----------|--------------|
| テキストコントラスト | 標準表示 | WCAG AA基準（4.5:1）を満たすこと |
| フォントサイズ変更 | 大きいフォント設定 | レイアウトが崩れずに適切に表示されること |
| ダークモード | ダークモード設定 | すべての要素が視認性を保ったまま表示されること |
| 高コントラストモード | 高コントラストモード設定 | すべての要素が十分なコントラストで表示されること |

## 10. セキュリティテストパラメーター

### 10.1 入力バリデーション

| テストケース | テスト条件 | 期待される結果 |
|-------------|----------|--------------|
| XSS攻撃テスト | スクリプトタグを含む投稿内容 | スクリプトがエスケープされ実行されないこと |
| SQLインジェクションテスト | SQLコマンドを含む検索クエリ | 適切にエスケープされ、エラーが発生しないこと |
| 長大なユーザー入力 | 非常に長いテキスト入力 | 適切に制限され、アプリがクラッシュしないこと |

### 10.2 権限管理

| テストケース | テスト条件 | 期待される結果 |
|-------------|----------|--------------|
| 非公開投稿アクセス | 未認証ユーザー / 許可されていないユーザー | アクセスが拒否されること |
| 投稿編集権限 | 非投稿者ユーザー | 編集機能が表示されず、APIリクエストも拒否されること |
| 管理者権限テスト | 管理者アカウント | モデレーション機能にアクセスできること |

---

このパラメーター一覧と期待結果の組み合わせは、投稿ドメインの主要なテストケースをカバーしています。実際のテスト実装時には、これらをベースにしつつ、さらに詳細なケースや境界値テストを追加することをお勧めします。テストツールの特性に合わせて、適宜パラメーターや期待結果の形式を調整してください。