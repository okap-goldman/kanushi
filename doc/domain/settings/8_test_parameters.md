# 設定ドメインテストパラメーター一覧

このドキュメントでは、設定ドメインのテストで使用するパラメーターと期待される結果の詳細を定義します。

## 1. 通知設定テスト

### 1.1 通知設定取得テスト (TC-NS-001)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 標準ケース | ユーザーID: valid_user_1 | ステータスコード: 200<br>コメント通知: 有効<br>ハイライト通知: 有効<br>フォロー通知: 有効<br>イベント通知: 無効<br>AI分析通知: 無効<br>静かな時間: 有効 (22:00-07:00) |
| 2 | 設定なし | ユーザーID: new_user_1 | ステータスコード: 200<br>デフォルト設定が返却される:<br>コメント通知: 有効<br>ハイライト通知: 有効<br>フォロー通知: 有効<br>イベント通知: 有効<br>AI分析通知: 有効<br>静かな時間: 無効 |
| 3 | 認証エラー | 無効なトークン | ステータスコード: 401<br>エラーメッセージ: "認証に失敗しました" |
| 4 | サーバーエラー | サーバー障害シミュレーション | ステータスコード: 500<br>エラーメッセージ: "サーバーエラーが発生しました" |

### 1.2 通知設定更新テスト (TC-NS-002)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 全項目更新 | ユーザーID: valid_user_1<br>コメント通知: false<br>ハイライト通知: true<br>フォロー通知: false<br>イベント通知: true<br>AI分析通知: true<br>静かな時間: { enabled: true, start: "23:00", end: "06:00" } | ステータスコード: 200<br>success: true<br>更新後DB値が入力値と一致する |
| 2 | 部分更新 | ユーザーID: valid_user_1<br>コメント通知: false | ステータスコード: 200<br>success: true<br>コメント通知のみfalseに変更され、他の設定は変更されない |
| 3 | 不正時間フォーマット | ユーザーID: valid_user_1<br>静かな時間: { enabled: true, start: "25:00", end: "06:00" } | ステータスコード: 400<br>エラーメッセージ: "不正な時間フォーマットです" |

### 1.3 静かな時間設定テスト (TC-NS-003)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 静かな時間有効化 | ユーザーID: valid_user_1<br>静かな時間: { enabled: true, start: "22:00", end: "07:00" } | ステータスコード: 200<br>成功メッセージ<br>静かな時間帯に通常通知が抑制される |
| 2 | 静かな時間無効化 | ユーザーID: valid_user_1<br>静かな時間: { enabled: false } | ステータスコード: 200<br>成功メッセージ<br>通知が常時配信される |
| 3 | 境界値テスト | ユーザーID: valid_user_1<br>静かな時間: { enabled: true, start: "00:00", end: "00:00" } | ステータスコード: 200<br>静かな時間が正常に設定される<br>（24時間通知抑制） |

## 2. アカウント設定テスト

### 2.1 言語設定変更テスト (TC-AS-001)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 日本語から英語へ | ユーザーID: valid_user_1<br>言語: "en" | ステータスコード: 200<br>success: true<br>UI言語が英語に変更される |
| 2 | 英語から日本語へ | ユーザーID: valid_user_1<br>言語: "ja" | ステータスコード: 200<br>success: true<br>UI言語が日本語に変更される |
| 3 | 未サポート言語 | ユーザーID: valid_user_1<br>言語: "fr" | ステータスコード: 400<br>エラーメッセージ: "この言語は現在サポートされていません" |

### 2.2 テーマ設定変更テスト (TC-AS-002)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | ライトからダークへ | ユーザーID: valid_user_1<br>テーマ: "dark" | ステータスコード: 200<br>success: true<br>UIがダークテーマに変更される |
| 2 | ダークからシステム連動へ | ユーザーID: valid_user_1<br>テーマ: "system" | ステータスコード: 200<br>success: true<br>UIがシステム設定に従ったテーマに変更される |
| 3 | システム連動からライトへ | ユーザーID: valid_user_1<br>テーマ: "light" | ステータスコード: 200<br>success: true<br>UIがライトテーマに変更される |

### 2.3 アカウント削除テスト (TC-AS-003)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 正常削除 | ユーザーID: valid_user_2<br>理由: "別のアカウントに移行するため"<br>確認コード: "DELETE123" | ステータスコード: 200<br>success: true<br>ユーザーデータが完全に削除される |
| 2 | 認証エラー | 無効なトークン<br>理由: "理由"<br>確認コード: "DELETE123" | ステータスコード: 401<br>エラーメッセージ: "認証に失敗しました" |
| 3 | 不正確認コード | ユーザーID: valid_user_1<br>理由: "理由"<br>確認コード: "WRONG" | ステータスコード: 400<br>エラーメッセージ: "確認コードが正しくありません" |

## 3. プライバシー設定テスト

### 3.1 位置情報共有設定テスト (TC-PS-001)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 有効化 | ユーザーID: valid_user_1<br>位置情報共有: true | ステータスコード: 200<br>success: true<br>アプリが位置情報を利用できる |
| 2 | 無効化 | ユーザーID: valid_user_1<br>位置情報共有: false | ステータスコード: 200<br>success: true<br>アプリが位置情報を利用しない |
| 3 | 権限拒否時の有効化 | ユーザーID: valid_user_1<br>位置情報共有: true<br>デバイス権限: なし | ステータスコード: 200<br>success: true<br>権限リクエストダイアログが表示される |

### 3.2 コンテンツ公開範囲設定テスト (TC-PS-002)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 公開設定 | ユーザーID: valid_user_1<br>公開範囲: "public" | ステータスコード: 200<br>success: true<br>新規投稿が公開状態で作成される |
| 2 | 家族のみ設定 | ユーザーID: valid_user_1<br>公開範囲: "family" | ステータスコード: 200<br>success: true<br>新規投稿が家族のみ公開で作成される |
| 3 | 非公開設定 | ユーザーID: valid_user_1<br>公開範囲: "private" | ステータスコード: 200<br>success: true<br>新規投稿が非公開で作成される |

### 3.3 データ収集設定テスト (TC-PS-003)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 有効化 | ユーザーID: valid_user_1<br>データ収集: true | ステータスコード: 200<br>success: true<br>分析データが収集される |
| 2 | 無効化 | ユーザーID: valid_user_1<br>データ収集: false | ステータスコード: 200<br>success: true<br>分析データが収集されない |
| 3 | 規制地域からのアクセス | ユーザーID: gdpr_user_1<br>データ収集: true | ステータスコード: 200<br>success: true<br>GDPR準拠の同意確認が表示される |

## 4. 表示設定テスト

### 4.1 文字サイズ設定テスト (TC-DS-001)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 小サイズ設定 | ユーザーID: valid_user_1<br>文字サイズ: "small" | ステータスコード: 200<br>success: true<br>文字サイズが小さくなる |
| 2 | 中サイズ設定 | ユーザーID: valid_user_1<br>文字サイズ: "medium" | ステータスコード: 200<br>success: true<br>文字サイズが標準になる |
| 3 | 大サイズ設定 | ユーザーID: valid_user_1<br>文字サイズ: "large" | ステータスコード: 200<br>success: true<br>文字サイズが大きくなる |

### 4.2 モーション効果設定テスト (TC-DS-002)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 有効化 | ユーザーID: valid_user_1<br>モーション削減: true | ステータスコード: 200<br>success: true<br>アニメーションが削減される |
| 2 | 無効化 | ユーザーID: valid_user_1<br>モーション削減: false | ステータスコード: 200<br>success: true<br>アニメーションが通常通り再生される |
| 3 | 低スペック端末 | ユーザーID: valid_user_1<br>モーション削減: false<br>端末性能: 低 | ステータスコード: 200<br>success: true<br>パフォーマンスに大きな影響がないこと |

### 4.3 高コントラストモードテスト (TC-DS-003)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 有効化 | ユーザーID: valid_user_1<br>高コントラスト: true | ステータスコード: 200<br>success: true<br>UIのコントラストが向上する |
| 2 | 無効化 | ユーザーID: valid_user_1<br>高コントラスト: false | ステータスコード: 200<br>success: true<br>UIのコントラストが通常に戻る |
| 3 | OS設定との連携 | ユーザーID: valid_user_1<br>高コントラスト: false<br>OS設定: 高コントラスト有効 | ステータスコード: 200<br>success: true<br>OS設定に従って高コントラストが適用される |

## 5. ブロックユーザー管理テスト

### 5.1 ブロックユーザー一覧取得テスト (TC-BU-001)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 標準取得 | ユーザーID: blocking_user_1<br>limit: 20<br>cursor: null | ステータスコード: 200<br>ブロックユーザー一覧が返却される<br>件数: 5件<br>nextCursor: 存在する |
| 2 | ページング | ユーザーID: blocking_user_1<br>limit: 10<br>cursor: "cursor_1" | ステータスコード: 200<br>2ページ目のブロックユーザー一覧が返却される<br>件数: 10件 |
| 3 | ブロックなし | ユーザーID: new_user_1<br>limit: 20<br>cursor: null | ステータスコード: 200<br>空リストが返却される<br>件数: 0件<br>nextCursor: null |

### 5.2 ユーザーブロックテスト (TC-BU-002)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 通常ブロック | ユーザーID: valid_user_1<br>ブロック対象: target_user_1<br>理由: "不適切なコメント" | ステータスコード: 200<br>ブロック情報が返却される<br>ブロック対象のコンテンツが表示されない |
| 2 | 既にブロック済み | ユーザーID: blocking_user_1<br>ブロック対象: blocked_user_1<br>理由: "理由" | ステータスコード: 400<br>エラーメッセージ: "このユーザーは既にブロックされています" |
| 3 | 存在しないユーザー | ユーザーID: valid_user_1<br>ブロック対象: "non_existent_user"<br>理由: "理由" | ステータスコード: 404<br>エラーメッセージ: "指定されたユーザーが見つかりません" |

### 5.3 ブロック解除テスト (TC-BU-003)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 通常解除 | ユーザーID: blocking_user_1<br>解除対象: blocked_user_1 | ステータスコード: 200<br>success: true<br>解除対象のコンテンツが表示されるようになる |
| 2 | ブロックしていないユーザー | ユーザーID: valid_user_1<br>解除対象: target_user_2 | ステータスコード: 400<br>エラーメッセージ: "このユーザーはブロックされていません" |
| 3 | 存在しないユーザー | ユーザーID: valid_user_1<br>解除対象: "non_existent_user" | ステータスコード: 404<br>エラーメッセージ: "指定されたユーザーが見つかりません" |

## 6. ヘルプ・サポートテスト

### 6.1 FAQ取得テスト (TC-HS-001)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 全カテゴリ取得 | ユーザーID: valid_user_1<br>カテゴリ: null<br>クエリ: null | ステータスコード: 200<br>全カテゴリとFAQが返却される<br>カテゴリ数: 5以上 |
| 2 | カテゴリ指定 | ユーザーID: valid_user_1<br>カテゴリ: "account_settings"<br>クエリ: null | ステータスコード: 200<br>指定カテゴリのFAQのみ返却される |
| 3 | 検索クエリ指定 | ユーザーID: valid_user_1<br>カテゴリ: null<br>クエリ: "パスワード" | ステータスコード: 200<br>検索クエリに関連するFAQのみ返却される |

### 6.2 お問い合わせ送信テスト (TC-HS-002)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 通常送信 | ユーザーID: valid_user_1<br>メール: "user@example.com"<br>件名: "機能について質問"<br>本文: "〇〇機能の使い方を教えてください。" | ステータスコード: 200<br>問い合わせIDとステータスが返却される<br>status: "pending" |
| 2 | 必須項目不足 | ユーザーID: valid_user_1<br>メール: "user@example.com"<br>件名: ""<br>本文: "質問です" | ステータスコード: 400<br>エラーメッセージ: "件名は必須です" |
| 3 | 不正なメール形式 | ユーザーID: valid_user_1<br>メール: "invalid_email"<br>件名: "質問"<br>本文: "内容" | ステータスコード: 400<br>エラーメッセージ: "有効なメールアドレスを入力してください" |

### 6.3 利用規約表示テスト (TC-HS-003)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 最新版取得 | ユーザーID: valid_user_1 | ステータスコード: 200<br>利用規約本文とバージョン情報が返却される<br>version: "1.2"以上 |
| 2 | キャッシュ利用 | ユーザーID: valid_user_1<br>キャッシュ: あり | ステータスコード: 304<br>キャッシュが使用される |
| 3 | 未認証アクセス | 認証なし | ステータスコード: 200<br>利用規約が表示される（未認証でもアクセス可能） |

## 7. 入力バリデーション

### 7.1 不正時間フォーマットテスト (TC-VAL-001)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 不正時間（範囲外） | ユーザーID: valid_user_1<br>静かな時間: { enabled: true, start: "25:00", end: "07:00" } | ステータスコード: 400<br>エラーメッセージ: "時間は00:00から23:59の範囲で指定してください" |
| 2 | 不正時間（形式） | ユーザーID: valid_user_1<br>静かな時間: { enabled: true, start: "9:5", end: "7:00" } | ステータスコード: 400<br>エラーメッセージ: "時間はHH:MM形式で指定してください" |
| 3 | 不正時間（型） | ユーザーID: valid_user_1<br>静かな時間: { enabled: true, start: 900, end: "07:00" } | ステータスコード: 400<br>エラーメッセージ: "時間は文字列形式で指定してください" |

### 7.2 言語設定の未サポート値テスト (TC-VAL-002)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 未サポート言語 | ユーザーID: valid_user_1<br>言語: "fr" | ステータスコード: 400<br>エラーメッセージ: "この言語は現在サポートされていません"<br>サポート言語リストが提示される |
| 2 | 不正な言語コード | ユーザーID: valid_user_1<br>言語: "xx" | ステータスコード: 400<br>エラーメッセージ: "無効な言語コードです" |
| 3 | 大文字言語コード | ユーザーID: valid_user_1<br>言語: "EN" | ステータスコード: 200<br>小文字変換されて処理される<br>言語が英語に設定される |

## 8. エラーハンドリング

### 8.1 オフライン時の設定変更テスト (TC-ERR-001)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | オフライン状態での変更 | ユーザーID: valid_user_1<br>テーマ: "dark"<br>ネットワーク: オフライン | ステータスコード: なし<br>設定がローカルに保存される<br>オフライン状態を示すメッセージが表示される |
| 2 | オンライン復帰後の同期 | ユーザーID: valid_user_1<br>ネットワーク: 復帰 | ステータスコード: 200<br>ローカル設定がサーバーと同期される<br>成功メッセージが表示される |
| 3 | 同期衝突 | ユーザーID: valid_user_1<br>ネットワーク: 復帰<br>状況: サーバー側で変更済み | ステータスコード: 409<br>コンフリクト解決UIが表示される<br>ユーザーに選択肢が提示される |

### 8.2 サーバーエラー時の動作テスト (TC-ERR-002)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | サーバー一時エラー | ユーザーID: valid_user_1<br>サーバー状態: 503エラー | ステータスコード: 503<br>エラーメッセージ: "サーバーが一時的に利用できません"<br>リトライオプションが提示される |
| 2 | 内部サーバーエラー | ユーザーID: valid_user_1<br>サーバー状態: 500エラー | ステータスコード: 500<br>エラーメッセージ: "サーバーエラーが発生しました"<br>サポート問い合わせ案内が表示される |
| 3 | タイムアウト | ユーザーID: valid_user_1<br>サーバー状態: タイムアウト | ステータスコード: なし<br>エラーメッセージ: "サーバーからの応答がありません"<br>ネットワーク確認案内が表示される |

## 9. 権限とセキュリティ

### 9.1 未認証時のアクセス制御テスト (TC-SEC-001)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | トークンなし | トークン: なし | ステータスコード: 401<br>エラーメッセージ: "認証が必要です" |
| 2 | 期限切れトークン | トークン: 期限切れ | ステータスコード: 401<br>エラーメッセージ: "認証トークンの有効期限が切れています" |
| 3 | 不正トークン | トークン: 不正な値 | ステータスコード: 401<br>エラーメッセージ: "無効な認証トークンです" |

### 9.2 他ユーザー設定へのアクセス制御テスト (TC-SEC-002)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 他ユーザーIDでのアクセス | ユーザーID: valid_user_1<br>アクセス先: other_user_1 | ステータスコード: 403<br>エラーメッセージ: "この操作を行う権限がありません" |
| 2 | 管理者権限でのアクセス | ユーザーID: admin_user_1<br>アクセス先: valid_user_1 | ステータスコード: 200<br>対象ユーザーの設定情報が返却される |
| 3 | IDの改ざん試行 | ユーザーID: valid_user_1<br>リクエスト本文内ID: other_user_1 | ステータスコード: 403<br>エラーメッセージ: "不正なリクエストです"<br>セキュリティログに記録される |

## 10. パフォーマンス

### 10.1 設定画面の読み込み時間テスト (TC-PERF-001)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 標準端末 | ユーザーID: valid_user_1<br>端末性能: 標準 | 画面表示時間: 1秒以内<br>設定データ読み込み: 2秒以内 |
| 2 | 低スペック端末 | ユーザーID: valid_user_1<br>端末性能: 低 | 画面表示時間: 2秒以内<br>設定データ読み込み: 3秒以内 |
| 3 | 大量設定データ | ユーザーID: power_user_1<br>データ量: 大 | 画面表示時間: 1.5秒以内<br>設定データ読み込み: 3秒以内 |

### 10.2 設定変更の反映時間テスト (TC-PERF-002)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 単一設定変更 | ユーザーID: valid_user_1<br>変更項目: 1項目 | レスポンス時間: 1秒以内<br>UI反映時間: 0.5秒以内 |
| 2 | 複数設定一括変更 | ユーザーID: valid_user_1<br>変更項目: 5項目 | レスポンス時間: 2秒以内<br>UI反映時間: 1秒以内 |
| 3 | サーバー負荷時 | ユーザーID: valid_user_1<br>サーバー状態: 高負荷 | レスポンス時間: 5秒以内<br>タイムアウト処理が適切に行われる |

## 11. アクセシビリティ

### 11.1 スクリーンリーダー対応テスト (TC-ACC-001)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 設定画面ナビゲーション | スクリーンリーダー: VoiceOver/TalkBack<br>対象: 設定画面 | すべての設定項目が正しく読み上げられる<br>フォーカス順序が論理的である |
| 2 | 設定変更操作 | スクリーンリーダー: VoiceOver/TalkBack<br>対象: トグルスイッチ、ラジオボタン等 | 操作可能な要素が適切に識別される<br>状態変化が読み上げられる |
| 3 | エラーメッセージ | スクリーンリーダー: VoiceOver/TalkBack<br>対象: 入力エラー時の表示 | エラーメッセージが自動的に読み上げられる<br>フォーカスが問題箇所に移動する |

### 11.2 高コントラストモードの有効性テスト (TC-ACC-002)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | テキストコントラスト | 高コントラストモード: 有効<br>対象: テキスト表示 | コントラスト比が4.5:1以上<br>すべてのテキストが明瞭に表示される |
| 2 | アクション要素の識別 | 高コントラストモード: 有効<br>対象: ボタン、リンク等 | インタラクティブ要素が明確に識別できる<br>状態変化が視覚的に明瞭である |
| 3 | アイコンと背景 | 高コントラストモード: 有効<br>対象: アイコン、ステータス表示 | すべてのアイコンが背景と明確に区別できる<br>意味を伝える色以外の手段がある |

## 12. 互換性

### 12.1 異なるOS・デバイステスト (TC-COMP-001)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | iOS端末 | デバイス: iPhone 12 Pro<br>OS: iOS 15.0 | すべての設定機能が正常動作する<br>UIが適切に表示される |
| 2 | Android端末 | デバイス: Galaxy S21<br>OS: Android 12 | すべての設定機能が正常動作する<br>UIが適切に表示される |
| 3 | タブレット | デバイス: iPad Pro<br>OS: iPadOS 15.0 | レスポンシブデザインで適切に表示される<br>タブレット向け最適化UIが適用される |

### 12.2 バージョン間互換性テスト (TC-COMP-002)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | マイナーアップデート | 旧バージョン: 1.2.0<br>新バージョン: 1.3.0 | すべての設定が維持される<br>新機能が追加される |
| 2 | メジャーアップデート | 旧バージョン: 1.3.0<br>新バージョン: 2.0.0 | 基本設定は維持される<br>互換性のない設定は適切に変換される<br>変更について通知される |
| 3 | ダウングレード | 新バージョン: 2.0.0<br>旧バージョン: 1.3.0 | 互換性のある設定のみ維持される<br>互換性のない設定は初期値に戻る<br>警告メッセージが表示される |

## 13. 多言語・国際化

### 13.1 多言語表示テスト (TC-I18N-001)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 日本語表示 | ユーザーID: valid_user_1<br>言語: "ja" | すべてのテキストが日本語で正しく表示される<br>フォントやレイアウトに問題がない |
| 2 | 英語表示 | ユーザーID: valid_user_1<br>言語: "en" | すべてのテキストが英語で正しく表示される<br>長いテキストでもレイアウトが崩れない |
| 3 | 言語切替 | ユーザーID: valid_user_1<br>言語: "ja" → "en" | UIが即座に言語切替される<br>すべての要素が新しい言語で表示される |

### 13.2 地域固有設定テスト (TC-I18N-002)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | 日本地域 | ユーザーID: valid_user_1<br>地域: "JP" | 日本固有の設定オプションが表示される<br>日時が日本形式（yyyy/MM/dd）で表示される |
| 2 | 米国地域 | ユーザーID: valid_user_1<br>地域: "US" | 米国固有の設定オプションが表示される<br>日時が米国形式（MM/dd/yyyy）で表示される |
| 3 | EU地域 | ユーザーID: valid_user_1<br>地域: "EU" | EUのデータ保護設定が表示される<br>GDPR関連の同意オプションが表示される |

## 14. データ整合性

### 14.1 設定の永続化テスト (TC-DATA-001)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | アプリ再起動 | ユーザーID: valid_user_1<br>変更: テーマ "dark"<br>操作: アプリ再起動 | 再起動後もテーマ設定が維持される<br>ダークテーマが適用されている |
| 2 | OSバックグラウンド復帰 | ユーザーID: valid_user_1<br>変更: 静かな時間設定<br>操作: バックグラウンド → 復帰 | 設定が維持される<br>静かな時間設定が有効である |
| 3 | クリーンインストール後の同期 | ユーザーID: valid_user_1<br>操作: アンインストール → 再インストール → ログイン | サーバーから設定が復元される<br>すべての設定が以前の状態に戻る |

### 14.2 マルチデバイス同期テスト (TC-DATA-002)

| No. | ケース | パラメーター | 期待される結果 |
|-----|--------|--------------|--------------|
| 1 | デバイス間同期 | ユーザーID: valid_user_1<br>デバイスA: 設定変更<br>デバイスB: 未変更 | デバイスAの変更がデバイスBに同期される<br>同期時間が30秒以内である |
| 2 | 同時変更競合 | ユーザーID: valid_user_1<br>デバイスA: 設定変更X<br>デバイスB: 同時に設定変更Y | 競合が検出される<br>ユーザーに解決オプションが提示される<br>または最新タイムスタンプが優先される |
| 3 | 部分的なネットワーク断 | ユーザーID: valid_user_1<br>デバイスA: 設定変更 → ネットワーク断<br>デバイスB: オンライン | デバイスAが再接続時に同期が完了する<br>最終的に両デバイスの設定が一致する |