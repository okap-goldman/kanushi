# タイムラインドメイン画面UI設計

## 1. タイムライン表示画面

![タイムライン画面](/doc/domain/timeline/ui/timeline_screen.svg)

### 要素
- ヘッダー（アプリロゴと通知アイコン）
- タイムラインモード切替（ホーム/ファミリー）
- ストーリーバー（一覧表示）
- 投稿作成ショートカットボタン（フローティング）
- 投稿カード一覧（スクロール表示）
- リフレッシュインジケーター（プルダウン操作）
- 続きを読み込むインジケーター（スクロール下部）
- タブバー（ナビゲーション用）

### 動作
- プルダウンでリフレッシュ（新規投稿読み込み）
- スクロールで追加投稿読み込み
- 投稿カードタップで詳細画面表示
- 投稿作成ボタンタップで投稿作成画面表示
- ユーザーアバタータップでユーザープロフィール表示
- タイムラインモード切替でフィード内容の変更
- 設定ボタンタップでフィルター設定表示

## 2. ウォッチタイムライン表示画面

![ウォッチタイムライン画面](/doc/domain/timeline/ui/watch_timeline_screen.svg)

### 要素
- 動画/音声プレーヤー（常に表示）
- コンテンツ自動切り替えインジケーター
- いいね/コメント/ハイライト/シェアボタン
- 投稿者情報（アバター、名前、フォローボタン）
- テキスト内容（短縮表示、タップで展開）
- 次へ/前へスワイプインジケーター
- バックグラウンド再生ボタン
- プレイリスト表示ボタン

### 動作
- 縦スワイプで次/前のコンテンツに移動
- タップで再生/一時停止
- ダブルタップでいいね
- いいね/コメント/ハイライトボタンで各アクション
- 投稿者アバタータップでプロフィール表示
- フォローボタンタップでフォロー/アンフォロー
- テキストタップで全文表示/非表示
- 自動再生オプション（設定可能）

## 3. ユーザー投稿タイムライン表示

![ユーザー投稿タイムライン表示](/doc/domain/timeline/ui/user_posts_timeline_view.svg)

### 要素
- ヘッダー（戻るボタン、ユーザー名、メニュー）
- プロフィールサマリー（アバター、フォロー情報）
- タブバー（投稿種類フィルター）
- タイムライン表示モード（投稿タブ選択時）
- 投稿カード一覧（スクロール表示）
- リフレッシュインジケーター
- 続きを読み込むインジケーター

### 動作
- プルダウンでリフレッシュ
- スクロールで追加投稿読み込み
- 投稿カードタップで詳細画面表示
- いいね/コメント/ハイライトボタンで各アクション
- 日付ヘッダーで投稿グループ化表示
- 続きを読み込むボタンで追加読み込み

## 4. タイムライン設定画面

### 要素
- ヘッダー（戻るボタン、「タイムライン設定」タイトル）
- 表示モード設定（ホーム/ファミリー）
- コンテンツタイプフィルター（すべて/テキスト/画像/動画/音声）
- 表示順設定（最新/人気/アルゴリズム）
- 自動再生設定（オフ/Wi-Fi接続時のみ/常に）
- ミュート設定（ユーザー/キーワード/トピック）
- タイムラインリセットボタン

### 動作
- 設定変更で即時適用
- ミュートリスト管理（追加/削除）
- タイムラインリセットでキャッシュクリアと再読み込み
- 設定保存と同期

## コンポーネント設計

### タイムラインフィード

#### 要素
- 投稿カードリスト
- ロード状態表示
- エラー状態表示
- リフレッシュプルダウン
- 続きを読み込むボタン
- フィード最終到達インジケーター

#### バリエーション
- **ホームタイムライン**：フォロー中のユーザーの投稿
- **ファミリータイムライン**：親しい関係のユーザーの投稿
- **ウォッチモード**：フルスクリーン自動再生モード
- **ユーザータイムライン**：特定ユーザーの投稿タイムライン

### タイムラインナビゲーション

#### 要素
- タイムラインモード切替ボタン
- フィルター表示インジケーター
- 現在のフィード情報
- 設定ボタン

#### バリエーション
- **標準**：ホーム/ファミリー切替
- **ユーザー固有**：ユーザー情報を含む
- **フィルター適用中**：フィルター表示と解除ボタン

### 画面遷移

1. **タイムライン** → **投稿詳細** → **コメント一覧** → **ユーザープロフィール**
2. **タイムライン** → **ウォッチモード** → **投稿詳細**
3. **タイムライン** → **タイムライン設定** → **タイムライン（更新済み）**
4. **ユーザープロフィール** → **ユーザーポストタイムライン** → **投稿詳細**